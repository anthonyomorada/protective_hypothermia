df <- select(df, -X)
is.na(df$Temp)
is.na(df$Temp) == F
df <- filter(df, -is.na(df$Temp)==FALSE)
DF
df
View(df)
summary*df
summary(df)
summary(df$Name)
df$Name
sum(df$Name)
summary(df$name)
summary(df$Name)
grouping(df$Name)
df$Name
levels(df$Name)
seq_along(df)
seq_along(df$Name)
ave(seq_along(df$Name))
ave(seq_along(df$Name), df$Name, FUN=length)
ave(seq_along(df$Name), df$Name, FUN=length) < 2
df[ave(seq_along(df$Name), df$Name, FUN=length) < 2,]
df[ave(seq_along(df$Name), df$Name, FUN=length) < 2,]
df[ave(seq_along(df$Name), df$Name, FUN=length) >= 2,]
require(dplyr)
df <- read.csv("./prot-hypothermia.csv")
print i
print(i)
for(i in 1:nrow(df)){
print(i)
}
head(df)
dt <- data.frame(patient=as.character(), Temp1 = as.numeric(), VIS1 = as.numeric(), Temp2 = as.numeric(), VIS2 = as.numeric())
View(dt)
dt <- data.frame(Patient=as.character(), Temp1 = as.numeric(), VIS1 = as.numeric(), Temp2 = as.numeric(), VIS2 = as.numeric())
i <- 3
df$Name[i]
df <- select(df, -X)
#Removing rows without temperature
df <- filter(df, -is.na(df$Temp)==FALSE)
#Eliminating pts with less than 2 temperature datapoints
df <- df[ave(seq_along(df$Name), df$Name, FUN=length) >= 2,]
name <- df$Name[i]
name
df[df$Name=name]
df[df$Name==name]
summary(df)
df[df$Name==name]
summary(df)
df$Name[i]
name <- df$Name[i]
name
df$Name==name
df[df$Name==name,]
summary(temp)
temp <- df[df$Name==name,]
summary(temp)
order(temp$Temp)
sort(temp$Temp)
?order
order(temp)
sort(temp$Temp)
?sort
sort(temp$Temp, decreasing = T)
temp[sort(temp$Temp, decreasing = T),]
temp[sort(temp$Temp, decreasing = T)]
temp[order(Temp)]
temp
temp(order(Temp),)
temp[order(Temp),]
order(Temp)
order(temp$Temp)
temp[order(temp$Temp)]
temp[order(temp$Temp)]
temp[order(temp$Temp)]
temp[order(temp$Temp)]
temp[order(temp$Temp)]
temp <- df[df$Name==name,]
%>% temp[order(temp$Temp)]
dt$Patient
dt$Patient <- name
dt$Patient <- name
summary(dt)
?append
append(dt)
append(dt, 1, 23,4)
append(dt, 1, 23,4, 4)
append(dt, "bob", 23,4, 4,3)
append(dt)
append(dt, )
append(dt, f)
append(dt, "f")
append(dt, df$Temp"f")
append(dt, df$Temp = "f")
append(dt, pi)
append(df$Temp)
append(dt)
dt
as.list(unique(dt$Patient))
unique(df$Name)
as.list(unique(df$Name))
data.frame(unique(df$Name))
as.numeric(unique(df$Name))
as.character(unique(df$Name))
dt <- data.frame(Patient=as.character(unique(df$Name)), Temp1 = as.numeric(), VIS1 = as.numeric(), Temp2 = as.numeric(), VIS2 = as.numeric())
dt
dt <- data.frame(Patient=as.character(unique(df$Name)), Temp1 = as.numeric(NA), VIS1 = as.numeric(NA), Temp2 = as.numeric(NA), VIS2 = as.numeric(NA))
dt
dt$Patient[i]
i <- 3
dt$Patient[i]
name <- dt$Patient[i]
df[df$Name=name]
df[df$Name==name]
df[df$Name==name]
df[as.character(df$Name)==name]
name <- dt$Patient[i]
name
df$Name == name
df$Name <- as.character(df$Name)
df$Name <- as.character(df$Name)
df$Name == name
df[df$Name == name,]
tmep <- temp[order(Temp)]
temp[order(Temp)]
temp
temp[order(temp$Temp)]
temp <- temp[order(temp$Temp)]
temp
temp[1]
temp[,1]
temp
temp[1]
temp[,1]
temp[1,]
temp[-1,]
temp[nrow(temp),]
temp
View(dt)
View(df)
View(temp)
require(dplyr)
df <- read.csv("./prot-hypothermia.csv")
df <- select(df, -X)
#Removing rows without temperature
df <- filter(df, -is.na(df$Temp)==FALSE)
#Eliminating pts with less than 2 temperature datapoints
df <- df[ave(seq_along(df$Name), df$Name, FUN=length) >= 2,]
df$Name <- as.character(df$Name)
dt <- data.frame(Patient=as.character(unique(df$Name)), Temp1 = as.numeric(NA), VIS1 = as.numeric(NA), Temp2 = as.numeric(NA), VIS2 = as.numeric(NA))
name <- as.character(dt$Patient[i])
temp <- df[df$Name == name,]
temp <- temp[order(temp$Temp)]
name <- as.character(dt$Patient[i])
temp <- df[df$Name == name,]
temp <- temp[order(temp$Temp)]
View(temp)
temp[order(temp$Temp)]
temp[order(temp$Temp),]
name <- as.character(dt$Patient[i])
temp <- df[df$Name == name,]
temp <- temp[order(temp$Temp),]
temp$Temp[1,]
temp$Temp[1,]
temp$Temp
temp$Temp
temp$Temp[1]
temp$Temp[1]
temp$Temp[-1]
temp$Temp[length(temp)]
name <- as.character(dt$Patient[i])
temp <- df[df$Name == name,]
temp <- temp[order(temp$Temp),]
temp
length(temp$Temp)
temp$Temp[length(temp$Temp)]
dt$Temp1[i] <- temp$Temp[1]
dt$Temp2[i] <- temp$Temp[length(temp$Temp)]
temp$VIS
dt <- data.frame(Patient=as.character(unique(df$Name)), Temp1 = as.numeric(NA), VIS1 = as.numeric(NA), Temp2 = as.numeric(NA), VIS2 = as.numeric(NA))
for(i in 1:nrow(dt)){
name <- as.character(dt$Patient[i])
temp <- df[df$Name == name,]
temp <- temp[order(temp$Temp),]
dt$Temp1[i] <- temp$Temp[1]
dt$Temp2[i] <- temp$Temp[length(temp$Temp)]
dt$VIS1[i] <- temp$VIS[1]
dt$VIS2[i] <- temp$VIS[length(temp$VIS)]
}
View(dt)
View(temp)
View(temp)
View(dt)
View(temp)
dt <- data.frame(Patient=as.character(unique(df$Name)), Temp1 = as.numeric(NA), VIS1 = as.numeric(NA), Temp2 = as.numeric(NA), VIS2 = as.numeric(NA))
for(i in 1:nrow(dt)){
name <- as.character(dt$Patient[i])
temp <- df[df$Name == name,]
temp <- temp[order(temp$Temp),]
dt$Temp2[i] <- temp$Temp[1]
dt$Temp1[i] <- temp$Temp[length(temp$Temp)]
dt$VIS2[i] <- temp$VIS[1]
dt$VIS1[i] <- temp$VIS[length(temp$VIS)]
}
View(dt)
print(dt)
dt$dTemp <- dt$Temp2 - dt$Temp1
dt$dTemp <- dt$Temp2 - dt$Temp1
dt$dVIS <- dt$VIS2 - dt$VIS1
print(dt)
View(dt)
dt$dTemp <- dt$Temp1 - dt$Temp2
dt$dVIS <- dt$VIS1 - dt$VIS2
print(dt)
View(dt)
plot(dt)
plot(dt$dTemp)
plot(dt$dTemp, dt$dVIS)
plot(dt$dTemp, dt$dVIS)
cor(dt$dTemp,dt$dVIS)
plot(dt$dTemp, dt$dVIS)
plot(dt$dTemp, dt$dVIS)
View(df)
df
View(df)
View(dt)
View(temp)
View(df)
require(dplyr)
df <- read.csv("./prot-hypothermia.csv")
View(df)
require(dplyr)
df <- read.csv("./prot-hypothermia.csv")
df <- select(df, -X)
#Removing rows without temperature
df <- filter(df, -is.na(df$Temp)==FALSE)
#Eliminating pts with less than 2 temperature datapoints
df <- df[ave(seq_along(df$Name), df$Name, FUN=length) >= 2,]
df$Name <- as.character(df$Name)
dt <- data.frame(Patient=as.character(unique(df$Name)), Temp1 = as.numeric(NA), VIS1 = as.numeric(NA), Temp2 = as.numeric(NA), VIS2 = as.numeric(NA))
for(i in 1:nrow(dt)){
name <- as.character(dt$Patient[i])
temp <- df[df$Name == name,]
temp <- temp[order(temp$Temp),]
dt$Temp2[i] <- temp$Temp[1]
dt$Temp1[i] <- temp$Temp[length(temp$Temp)]
dt$VIS2[i] <- temp$VIS[1]
dt$VIS1[i] <- temp$VIS[length(temp$VIS)]
}
dt$dTemp <- dt$Temp1 - dt$Temp2
dt$dVIS <- dt$VIS1 - dt$VIS2
print(dt)
plot(dt$dTemp, dt$dVIS)
cor(dt$dTemp, dt$dVIS)
View(df)
View(dt)
View(df)
require(XLConnect)
wb = loadWorkbook("~/data/levophed hypothermia pts2.0.xls")
View(df)
View(df)
write.csv(df, "./hypothermia-study.csv", row.names = F)
write.csv(df, "./hypothermia-study.csv", row.names = F)
df <- read.csv("./hypothermia-study.csv")
View(df)
summary(df)
str(df)
df <- read.csv("./hypothermia-study.csv")
require(ggplot2)
plot(dt$dTemp, dt$dVIS)
plot(df$dTemp, df$dVIS)
View(df)
# Working with cleaned and deidentified data. Saved within this repository.
df <- read.csv("./hypothermia-study.csv")
require(ggplot2)
dt <- data.frame(Patient=as.character(unique(df$Name)), Temp1 = as.numeric(NA), VIS1 = as.numeric(NA), Temp2 = as.numeric(NA), VIS2 = as.numeric(NA))
for(i in 1:nrow(dt)){
name <- as.character(dt$Patient[i])
temp <- df[df$Name == name,]
temp <- temp[order(temp$Temp),]
dt$Temp2[i] <- temp$Temp[1]
dt$Temp1[i] <- temp$Temp[length(temp$Temp)]
dt$VIS2[i] <- temp$VIS[1]
dt$VIS1[i] <- temp$VIS[length(temp$VIS)]
}
dt$dTemp <- dt$Temp1 - dt$Temp2
dt$dVIS <- dt$VIS1 - dt$VIS2
print(dt)
dt <- data.frame(Patient=as.character(unique(df$Name)), Temp1 = as.numeric(NA), VIS1 = as.numeric(NA), Temp2 = as.numeric(NA), VIS2 = as.numeric(NA))
for(i in 1:nrow(dt)){
name <- as.character(dt$Patient[i])
temp <- df[df$Name == name,]
temp <- temp[order(temp$Temp),]
dt$Temp2[i] <- temp$Temp[1]
dt$Temp1[i] <- temp$Temp[length(temp$Temp)]
dt$VIS2[i] <- temp$VIS[1]
dt$VIS1[i] <- temp$VIS[length(temp$VIS)]
}
dt$dTemp <- dt$Temp1 - dt$Temp2
dt$dVIS <- dt$VIS1 - dt$VIS2
print(dt)
df$Name
unique(df$Name)
frequency(df$Name)
df$Name
summary(df$Name)
df$Name
levels(df)
levels(df$Name)
df$names
levels(df$names)
levels(df$Names)
df$Name
levels(df$Name)
# Working with cleaned and deidentified data. Saved within this repository.
df <- read.csv("./hypothermia-study.csv")
levels(df$Name) <- sub("^pt#8$", "pt#2", levels(df$Name))
require(ggplot2)
levels(df$Name)
summary(df$Name)
factor(df$Name)
factor(df$Name, levels(df$Name)[c(1,7,2:6)])
# Working with cleaned and deidentified data. Saved within this repository.
df <- read.csv("./hypothermia-study.csv")
levels(df$Name) <- sub("^pt#8$", "pt#2", levels(df$Name))
df$Name <- factor(df$Name, levels(df$Name)[c(1,7,2:6)])
require(ggplot2)
levels(df$Name)
plot(dt$dTemp, dt$dVIS)
cor(dt$dTemp, dt$dVIS)
ggplot(dt$dTemp, dt$dVIS)
ggplot(data=dt, aes(x= Temp, y= VIS)) + geom_point()
ggplot(data=dt, aes(x= dTemp, y= dVIS)) + geom_point()
cor(dt$dTemp, dt$dVIS)
View(temp)
View(dt)
ggplot(data=dt, aes(x= dTemp, y= dVIS))
+ geom_point()
ggplot(data=dt, aes(x= dTemp, y= dVIS)),
ggplot(data=dt, aes(x= dTemp, y= dVIS)) +
geom_point() +
labs(x= "Temperature Difference (C)", y= "VIS Difference")
cor(dt$dTemp, dt$dVIS)
ggplot(data=dt, aes(x= dTemp, y= dVIS)) +
geom_point() +
labs(x= "Temperature Difference (C)", y= "VIS Difference", title = "Max Temp - Min Temp")
cor(dt$dTemp, dt$dVIS)
ggplot(data=dt, aes(x= dTemp, y= dVIS)) +
geom_point() +
geom_abline()
labs(x= "Temperature Difference (C)", y= "VIS Difference", title = "Max Temp - Min Temp")
cor(dt$dTemp, dt$dVIS)
ggplot(data=dt, aes(x= dTemp, y= dVIS)) +
geom_point() +
geom_smooth() +
labs(x= "Temperature Difference (C)", y= "VIS Difference", title = "Max Temp - Min Temp")
cor(dt$dTemp, dt$dVIS)
ggplot(data=dt, aes(x= dTemp, y= dVIS)) +
geom_point() +
labs(x= "Temperature Difference (C)", y= "VIS Difference", title = "Max Temp - Min Temp")
cor(dt$dTemp, dt$dVIS)
ggplot(data=dt, aes(x= dTemp, y= dVIS)) +
geom_point() +
geom_text(aes(label = Name))
View(dt)
# Working with cleaned and deidentified data. Saved within this repository.
df <- read.csv("./hypothermia-study.csv")
levels(df$Name) <- sub("^pt#8$", "pt#2", levels(df$Name))
df$Name <- factor(df$Name, levels(df$Name)[c(1,7,2:6)])
require(ggplot2)
head(df)
dt <- data.frame(Patient=as.character(unique(df$Name)), Temp1 = as.numeric(NA), VIS1 = as.numeric(NA), Temp2 = as.numeric(NA), VIS2 = as.numeric(NA))
for(i in 1:nrow(dt)){
name <- as.character(dt$Patient[i])
temp <- df[df$Name == name,]
temp <- temp[order(temp$Temp),]
dt$Temp2[i] <- temp$Temp[1]
dt$Temp1[i] <- temp$Temp[length(temp$Temp)]
dt$VIS2[i] <- temp$VIS[1]
dt$VIS1[i] <- temp$VIS[length(temp$VIS)]
}
dt$dTemp <- dt$Temp1 - dt$Temp2
dt$dVIS <- dt$VIS1 - dt$VIS2
print(dt)
ggplot(data=dt, aes(x= dTemp, y= dVIS)) +
geom_point() +
geom_text(aes(label = Patient))
labs(x= "Temperature Difference (C)", y= "VIS Difference", title = "Max Temp - Min Temp")
cor(dt$dTemp, dt$dVIS)
ggplot(data=dt, aes(x= dTemp, y= dVIS, color = Name)) +
geom_point() +
labs(x= "Temperature Difference (C)", y= "VIS Difference", title = "Max Temp - Min Temp")
View(dt)
ggplot(data=dt, aes(x= dTemp, y= dVIS, color = Patient)) +
geom_point() +
labs(x= "Temperature Difference (C)", y= "VIS Difference", title = "Max Temp - Min Temp")
cor(dt$dTemp, dt$dVIS)
View(df)
View(df)
ggplot(data=df, aes(x = Temp, y = Map, color = Name)) + geom_point() + geom_smooth(method = "lm")
ggplot(data=df, aes(x = Temp, y = Map, color = Name)) + geom_point()
View(df)
# Working with cleaned and deidentified data. Saved within this repository.
df <- read.csv("./hypothermia-study.csv")
levels(df$Name) <- sub("^pt#8$", "pt#2", levels(df$Name))
df$Name <- factor(df$Name, levels(df$Name)[c(1,7,2:6)])
require(ggplot2)
head(df)
ggplot(data=df, aes(x = Temp, y = Map, color = Name)) + geom_point()
dt <- data.frame(Patient=as.character(unique(df$Name)), Temp1 = as.numeric(NA), VIS1 = as.numeric(NA), Temp2 = as.numeric(NA), VIS2 = as.numeric(NA))
for(i in 1:nrow(dt)){
name <- as.character(dt$Patient[i])
temp <- df[df$Name == name,]
temp <- temp[order(temp$Temp),]
dt$Temp2[i] <- temp$Temp[1]
dt$Temp1[i] <- temp$Temp[length(temp$Temp)]
dt$VIS2[i] <- temp$VIS[1]
dt$VIS1[i] <- temp$VIS[length(temp$VIS)]
}
dt$dTemp <- dt$Temp1 - dt$Temp2
dt$dVIS <- dt$VIS1 - dt$VIS2
print(dt)
ggplot(data=dt, aes(x= dTemp, y= dVIS, color = Patient)) +
geom_point() +
labs(x= "Temperature Difference (C)", y= "VIS Difference", title = "Max Temp - Min Temp")
ggplot(data=df, aes(x = Temp, y = VIS, color = Name)) + geom_point()
ggplot(data=df, aes(x = Temp, y = VIS, color = Name)) + geom_point()
ggplot(data=df, aes(x = Temp, y = VIS, color = Name)) +
geom_point() +
geom_smooth(method = "lm")
ggplot(data=df, aes(x = Temp, y = VIS, color = Name)) +
geom_point() +
geom_smooth()
ggplot(data=df, aes(x = Temp, y = VIS, color = Name)) +
geom_point() +
geom_smooth(method = "auto")
ggplot(data=df, aes(x = Temp, y = VIS, color = Name)) +
geom_point() +
stat_smooth(method = "lm", formula = y ~x, size =1)
ggplot(data=df, aes(x = Temp, y = VIS, color = Name)) +
geom_point() +
ggplot(data=df, aes(x = Temp, y = VIS, color = Name)) +
geom_point()
ggplot(data=df, aes(x = Temp, y = VIS, color = Name)) +
geom_point() +
geom_smooth(method = "lm", se = FALSE)
View(df)
# Working with cleaned and deidentified data. Saved within this repository.
df <- read.csv("./prot-hypothermia.csv")
require(ggplot2)
knitr::opts_chunk$set(fig.width=10, fig.height=6)
str(df)
df[is.na(df$Temp) == F]
df[,is.na(df$Temp) == F]
df[is.na(df$Temp) == F,]
df[is.na(df$Temp) == F & is.na(df$VIS) == F]
df[is.na(df$Temp) == F & is.na(df$VIS) == F,]
sum(df[is.na(df$Temp) == F & is.na(df$VIS) == F,])
nrow(df[is.na(df$Temp) == F & is.na(df$VIS) == F,])
levels(df$Name)
length(levels(df$Name))
summary(df$Name)
dt <- df[is.na(df$Temp) == F & is.na(df$VIS) == F,]
summary(dt$Name)
dt <- df[df$Name != "pt#8"]
dt <- df[df$Name != "pt#8",]
head(df)
dt <- df[is.na(df$Temp) == F & is.na(df$VIS) == F,]
dt <- dt[dt$Name != "pt#8",]
head(df)
dt <- df[is.na(df$Temp) == F & is.na(df$VIS) == F,]
dt <- dt[dt$Name != "pt#8"]
dt <- dt[dt$Name != "pt#8",]
summary(dt$Name)
levels(dt$Name)
dt$Name <- factor(dt$Name)
View(dt)
dt <- dt[dt$Name != "pt#8",]
dt$Name <- factor(dt$Name)
# Working with cleaned and deidentified data. Saved within this repository.
df <- read.csv("./prot-hypothermia.csv")
require(ggplot2)
knitr::opts_chunk$set(fig.width=10, fig.height=6)
head(df)
dt <- df[is.na(df$Temp) == F & is.na(df$VIS) == F,]
dt <- dt[dt$Name != "pt#8",]
dt$Name <- factor(dt$Name)
length(levels(df$Name))
dt
dt <- dt[dt$Name != "pt#8",]
dt$Name <- factor(dt$Name)
levels(dt)
level(dt)
levels(dt$Name)
length(levels(dt$Name))
nrow(dt)
levels(dt$Name)
rm(df)
ggplot(data=dt, aes(x = Temp, y = VIS, color = Name)) +
geom_point() +
geom_smooth(method = "lm", se = FALSE) +
labs(x= "Temperature (C)", y= "VIS", title = "Vasoactive-Inotropic Score")
ggplot(data=dt, aes(x = Temp, y = VIS, color = Name)) +
geom_point() +
geom_smooth(method = "lm", se = FALSE) +
labs(x= "Temperature (C)", y= "VIS", title = "Vasoactive-Inotropic Score")
ggplot(data=dt, aes(x = Hour, y = VIS, color = Name)) +
geom_point() +
geom_smooth(method = "lm", se = FALSE) +
labs(x= "Temperature (C)", y= "VIS", title = "Vasoactive-Inotropic Score")
dt$Hour
